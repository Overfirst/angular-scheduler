<div class="month-view-box">
  <div class="header-table">
    <table>
      <thead>
        <tr #row>
          <td #column>Monday</td>
          <td>Tuesday</td>
          <td>Wednesday</td>
          <td>Thursday</td>
          <td>Friday</td>
          <td>Saturday</td>
          <td>Sunday</td>
        </tr>
      </thead>
    </table>
  </div>

  <div class="content-table">
      <table>
        <tbody>
          <tr *ngFor="let week of weeks">
            <td
              [style.height]="getHeightStyle()"
              *ngFor="let day of week"
            >
              <div
                class="column-content"
                [class.pale-date]="!dayInCurrentMonth(day)"
                [class.today-date]="isToday(day)"
              >
                <span *ngIf="isFullDate(day); else default">{{ day | date:'MMM, d' }}</span>
                <ng-template #default>
                  <span>{{ day | date:'d' }}</span>
                </ng-template>
              </div>
            </td>
            <div class="events-box">
              <ng-container *ngFor="let event of events">
                <div
                  #eventBoxWrapper
                  *ngIf="eventOnTargetWeek(event, week[0])"
                  class="event-box-wrapper"
                  [attr.event-id]="event.id"
                  [style.left]="getEventWeekDaysOffset(event, week[0])"
                  [style.width]="getEventDurationForTargetWeek(event, week[0])"
                  [style.top]="getEventTopOffset(event, eventBoxWrapper)"
                >
                  <div
                    #eventBox
                    collectEventBox
                    class="event-box"
                    [attr.event-id]="event.id"
                    [class.event-box-margin-left]="eventStartedOnTargetWeek(event, week[0])"
                    [class.event-box-margin-right]="eventEndedOnTargetWeek(event, week[0])"
                    (mouseover)="eventBoxMouseOver(eventBox)"
                    (mouseleave)="eventBoxMouseLeave(eventBox)"
                  >
                    <span>({{ event.start | date:'hh:mm' }}) {{ event.name }}</span>
                  </div>
                </div>
              </ng-container>
            </div>
          </tr>
        </tbody>
      </table>
  </div>
</div>
